

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  


  <link rel="shortcut icon" href="/pcc_2e/assets/images/favicon.ico" type="image/x-icon"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/pcc_2e/assets/images/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/pcc_2e/assets/images/favicon-32x32.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="/pcc_2e/assets/images/favicon-16x16.png"/>
  <link rel="manifest" href="/pcc_2e/assets/site.webmanifest"/>

  <link rel="stylesheet" href="/pcc_2e/assets/css/just-the-docs-default.css">

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1B6T2W9DJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    
    gtag('config', 'G-H1B6T2W9DJ');
    
  </script>

  

  
  <script type="text/javascript" src="/pcc_2e/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/pcc_2e/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Using Sprite Sheets in Pygame | Python Crash Course, 2nd Edition</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Using Sprite Sheets in Pygame" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Online Resources for Python Crash Course, from No Starch Press" />
<meta property="og:description" content="Online Resources for Python Crash Course, from No Starch Press" />
<link rel="canonical" href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/" />
<meta property="og:url" content="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/" />
<meta property="og:site_name" content="Python Crash Course, 2nd Edition" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Using Sprite Sheets in Pygame" />
<script type="application/ld+json">
{"headline":"Using Sprite Sheets in Pygame","@type":"WebPage","description":"Online Resources for Python Crash Course, from No Starch Press","url":"https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mavjav-edu.github.io/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_788.png"}},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="https://mavjav-edu.github.io/pcc_2e/" class="site-title lh-tight">
  <div class="site-logo">
    <img sizes="(max-width: 1380px) 100vw, 1380px"
srcset="/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_50.png 50w,
/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_508.png 508w,
/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_788.png 788w,
/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_1380.png 1380w"
src="/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_1380.png"
alt="Python Crash Course 2nd Edition"></div>

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/" class="nav-list-link">Home</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/cip/" class="nav-list-link">Coding is political</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/updates/" class="nav-list-link">Updates</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/first_printing/" class="nav-list-link">First printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/second_printing/" class="nav-list-link">Second printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/third_printing/" class="nav-list-link">Third printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/fourth_printing/" class="nav-list-link">Fourth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/fifth_printing/" class="nav-list-link">Fifth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/sixth_printing/" class="nav-list-link">Sixth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/seventh_printing/" class="nav-list-link">Seventh printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/eighth_printing/" class="nav-list-link">Eighth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/ninth_printing/" class="nav-list-link">Ninth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/which_printing/" class="nav-list-link">Which printing do I have?</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/django3_2/" class="nav-list-link">Django 3.2</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/solutions/" class="nav-list-link">Solutions</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_2/" class="nav-list-link">Chapter 2</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_3/" class="nav-list-link">Chapter 3</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_4/" class="nav-list-link">Chapter 4</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_5/" class="nav-list-link">Chapter 5</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_6/" class="nav-list-link">Chapter 6</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_7/" class="nav-list-link">Chapter 7</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_8/" class="nav-list-link">Chapter 8</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_9/" class="nav-list-link">Chapter 9</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_10/" class="nav-list-link">Chapter 10</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_11/" class="nav-list-link">Chapter 11</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_12/" class="nav-list-link">Chapter 12</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_13/" class="nav-list-link">Chapter 13</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_14/" class="nav-list-link">Chapter 14</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_15/" class="nav-list-link">Chapter 15</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/" class="nav-list-link">Chapter 16</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_17/" class="nav-list-link">Chapter 17</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/reader_questions/" class="nav-list-link">Reader Questions</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/finding_employment/" class="nav-list-link">Finding Employment</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/survey/" class="nav-list-link">Survey</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/mailing_list/" class="nav-list-link">Mailing List</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/contact/" class="nav-list-link">Contact</a></li></ul></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/new_in_2e/new_in_2e/" class="nav-list-link">What's new?</a></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/new_in_2e/" class="nav-list-link">What's new?</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/" class="nav-list-link">Setup Instructions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/windows/" class="nav-list-link">Setting up Python on Windows</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/macos/" class="nav-list-link">Setting up Python on macOS</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/linux/" class="nav-list-link">Setting up Python on Linux</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/setup_instructions/" class="nav-list-link">Setup Instructions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/windows/" class="nav-list-link">Setting up Python on Windows</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/macos/" class="nav-list-link">Setting up Python on macOS</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/linux/" class="nav-list-link">Setting up Python on Linux</a></li></ul></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/cheat_sheets/" class="nav-list-link">Cheat Sheets</a></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/cheat_sheets/cheat_sheets/" class="nav-list-link">Cheat Sheets</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/updates/updates/" class="nav-list-link">Updates</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/first_printing/" class="nav-list-link">First printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/second_printing/" class="nav-list-link">Second printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/third_printing/" class="nav-list-link">Third printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/fourth_printing/" class="nav-list-link">Fourth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/fifth_printing/" class="nav-list-link">Fifth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/sixth_printing/" class="nav-list-link">Sixth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/seventh_printing/" class="nav-list-link">Seventh printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/eighth_printing/" class="nav-list-link">Eighth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/ninth_printing/" class="nav-list-link">Ninth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/which_printing/" class="nav-list-link">Which printing do I have?</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/django3_2/" class="nav-list-link">Django 3.2</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/solutions/solutions/" class="nav-list-link">Solutions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_2/" class="nav-list-link">Chapter 2</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_3/" class="nav-list-link">Chapter 3</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_4/" class="nav-list-link">Chapter 4</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_5/" class="nav-list-link">Chapter 5</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_6/" class="nav-list-link">Chapter 6</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_7/" class="nav-list-link">Chapter 7</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_8/" class="nav-list-link">Chapter 8</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_9/" class="nav-list-link">Chapter 9</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_10/" class="nav-list-link">Chapter 10</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_11/" class="nav-list-link">Chapter 11</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_12/" class="nav-list-link">Chapter 12</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_13/" class="nav-list-link">Chapter 13</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_14/" class="nav-list-link">Chapter 14</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_15/" class="nav-list-link">Chapter 15</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/" class="nav-list-link">Chapter 16</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_17/" class="nav-list-link">Chapter 17</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/challenges/challenges/" class="nav-list-link">Challenges</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/playing_cards/" class="nav-list-link">Playing Cards</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/photo_filters/" class="nav-list-link">Photo Filters</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/coding_for_social_justice/" class="nav-list-link">Coding for Social Justice</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/ai_player/" class="nav-list-link">Automated Alien Invasion Player</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/challenges/" class="nav-list-link">Challenges</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/playing_cards/" class="nav-list-link">Playing Cards</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/photo_filters/" class="nav-list-link">Photo Filters</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/coding_for_social_justice/" class="nav-list-link">Coding for Social Justice</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/ai_player/" class="nav-list-link">Automated Alien Invasion Player</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/" class="nav-list-link">Beyond PCC</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/random_functions/" class="nav-list-link">Random Functions</a></li><li class="nav-list-item  active"><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/" class="nav-list-link active">Using Sprite Sheets in Pygame</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/ai_player/" class="nav-list-link">Pygame - Adding Sound and Automating Game Play</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pillow/" class="nav-list-link">Pillow - Working with Images</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/extracting_from_excel/" class="nav-list-link">Extracting Data from Excel Files</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/beyond_pcc/" class="nav-list-link">Beyond PCC</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/random_functions/" class="nav-list-link">Random Functions</a></li><li class="nav-list-item  active"><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/" class="nav-list-link active">Using Sprite Sheets in Pygame</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/ai_player/" class="nav-list-link">Pygame - Adding Sound and Automating Game Play</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pillow/" class="nav-list-link">Pillow - Working with Images</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/extracting_from_excel/" class="nav-list-link">Extracting Data from Excel Files</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/recommended_reading/" class="nav-list-link">Recommended Reading</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/first_steps/" class="nav-list-link">First Steps</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/general_python/" class="nav-list-link">General Python Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/data_science/" class="nav-list-link">Data Science Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/django/" class="nav-list-link">Django Resources</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/" class="nav-list-link">Recommended Reading</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/first_steps/" class="nav-list-link">First Steps</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/general_python/" class="nav-list-link">General Python Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/data_science/" class="nav-list-link">Data Science Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/django/" class="nav-list-link">Django Resources</a></li></ul></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Python Crash Course, 2nd Edition" aria-label="Search Python Crash Course, 2nd Edition" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="//github.com/mavjav-edu/pcc_2e" class="site-button"
                  
                >
                  Python Crash Course on GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
                <li class="breadcrumb-nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/beyond_pcc/">Beyond PCC</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Using Sprite Sheets in Pygame</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 class="no_toc" id="using-sprite-sheets-in-pygame">
        
        
          <a href="#using-sprite-sheets-in-pygame" class="anchor-heading" aria-labelledby="using-sprite-sheets-in-pygame"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Sprite Sheets in Pygame
        
        
      </h1>
    

<p>When we built Alien Invasion, we only needed two images: one for the ship, and one for the alien. In some games, however, you’ll need lots of different images.</p>

<p>Game developers realized a long time ago that loading many images from separate files causes a game to run really slowly, so people came up with the idea of sprite sheets. A <em>sprite sheet</em> is a single file that contains many smaller images, all on a plain or transparent background. To use a sprite sheet, you load the sprite sheet as a single large image, and then you load the individual images from the sprite sheet image. This turns out to be much more efficient than loading a bunch of separate image files.</p>

<p>For this example we’ll look at how you can load a full set of chess pieces from one sprite sheet. To build a chess game, you need 12 pieces: a black and white king, queen, rook, bishop, knight, and pawn. Instead of loading 12 separate images, we’ll load one image that contains an icon for each of these pieces. We’ll then create 12 separate objects representing each of these pieces. What you learn in this guide will be useful any time you want to load a number of icons from a single image file.</p>

<ul id="markdown-toc">
  <li><a href="#a-simple-sprite-sheet" id="markdown-toc-a-simple-sprite-sheet">A Simple Sprite Sheet</a></li>
  <li><a href="#starting-a-chess-game" id="markdown-toc-starting-a-chess-game">Starting a Chess Game</a></li>
  <li><a href="#modeling-a-chess-piece" id="markdown-toc-modeling-a-chess-piece">Modeling a Chess Piece</a></li>
  <li><a href="#modeling-a-chess-set" id="markdown-toc-modeling-a-chess-set">Modeling a Chess Set</a>    <ul>
      <li><a href="#the-chessset-class" id="markdown-toc-the-chessset-class">The <code class="language-plaintext highlighter-rouge">ChessSet</code> class</a></li>
      <li><a href="#loading-the-first-piece" id="markdown-toc-loading-the-first-piece">Loading the first piece</a></li>
      <li><a href="#loading-all-the-pieces" id="markdown-toc-loading-all-the-pieces">Loading all the pieces</a>        <ul>
          <li><a href="#the-load_grid_images-method" id="markdown-toc-the-load_grid_images-method">The <code class="language-plaintext highlighter-rouge">load_grid_images()</code> method</a></li>
          <li><a href="#using-load_grid_images" id="markdown-toc-using-load_grid_images">Using <code class="language-plaintext highlighter-rouge">load_grid_images()</code></a></li>
          <li><a href="#setting-values-for-name-and-color" id="markdown-toc-setting-values-for-name-and-color">Setting values for <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">color</code></a></li>
          <li><a href="#seeing-all-the-pieces" id="markdown-toc-seeing-all-the-pieces">Seeing all the pieces</a></li>
        </ul>
      </li>
      <li><a href="#making-mistakes" id="markdown-toc-making-mistakes">Making mistakes</a></li>
    </ul>
  </li>
  <li><a href="#loading-your-own-images" id="markdown-toc-loading-your-own-images">Loading Your Own Images</a></li>
  <li><a href="#final-words" id="markdown-toc-final-words">Final Words</a>    <ul>
      <li><a href="#groups-vs-lists" id="markdown-toc-groups-vs-lists">Groups vs Lists</a></li>
      <li><a href="#sprite-sheets-with-non-uniform-grids" id="markdown-toc-sprite-sheets-with-non-uniform-grids">Sprite sheets with non-uniform grids</a></li>
      <li><a href="#determining-margin-and-padding-sizes" id="markdown-toc-determining-margin-and-padding-sizes">Determining margin and padding sizes</a></li>
    </ul>
  </li>
</ul><hr />
      <h2 id="a-simple-sprite-sheet">
        
        
          <a href="#a-simple-sprite-sheet" class="anchor-heading" aria-labelledby="a-simple-sprite-sheet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> A Simple Sprite Sheet
        
        
      </h2>
    

<p>Here’s the sprite sheet we’ll work with:</p>

<p><img src="../../images/challenge_images/chess_pieces.bmp" alt="" /></p>

<p>The book’s author says he doeswnloaded this image from <a href="https://www.pdclipart.org/displayimage.php?album=search&amp;cat=0&amp;pos=39">Public Domain Clip Art</a>, and converted it to a .bmp file. You can right click and save the image file from this page, or you can find it in the <a href="https://github.com/ehmatthes/pcc_2e/tree/master/beyond_pcc"><em>beyond_pcc</em></a> folder when you <a href="https://github.com/ehmatthes/pcc_2e/zipball/master/">download the resources for the book</a>.</p>
      <h2 id="starting-a-chess-game">
        
        
          <a href="#starting-a-chess-game" class="anchor-heading" aria-labelledby="starting-a-chess-game"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Starting a Chess Game
        
        
      </h2>
    

<p>We’re not going to make a chess game in this tutorial, but we’ll set up this project so you could continue to expand on it and start building a game if you want to. So let’s start with a simple Pygame file, just like we did for Alien Invasion. Make a folder called <em>chess_game</em>, and save this file as <em>chess_game.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""Chess game, for learning to grab images from a sprite sheet."""</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">pygame</span>

<span class="kn">from</span> <span class="nn">settings</span> <span class="kn">import</span> <span class="n">Settings</span>


<span class="k">class</span> <span class="nc">ChessGame</span><span class="p">:</span>
    <span class="s">"""Overall class to manage game assets and behavior."""</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Initialize the game, and create resources."""</span>
        <span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">screen_width</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">screen_height</span><span class="p">))</span>
        <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s">"Chess"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Start the main loop for the game."""</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_check_events</span><span class="p">()</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_update_screen</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_check_events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
                <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_q</span><span class="p">:</span>
                    <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_update_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">bg_color</span><span class="p">)</span>
        <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">chess_game</span> <span class="o">=</span> <span class="n">ChessGame</span><span class="p">()</span>
    <span class="n">chess_game</span><span class="p">.</span><span class="n">run_game</span><span class="p">()</span>
</code></pre></div></div>

<p>And here’s <em>settings.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Settings</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">screen_width</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">screen_height</span> <span class="o">=</span> <span class="mi">1200</span><span class="p">,</span> <span class="mi">800</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">bg_color</span> <span class="o">=</span> <span class="p">(</span><span class="mi">225</span><span class="p">,</span> <span class="mi">225</span><span class="p">,</span> <span class="mi">225</span><span class="p">)</span>
</code></pre></div></div>

<p>This gives us an empty game window, and we can press ‘q’ to quit the game at any time. I like to have this option because sometimes I run games in fullscreen mode, and you can’t click the close button in fullscreen mode.</p>

<p>You’ll also need to create an <em>images</em> folder, and save the sprite sheet as <em>chess_pieces.bmp</em> in this folder.</p>
      <h2 id="modeling-a-chess-piece">
        
        
          <a href="#modeling-a-chess-piece" class="anchor-heading" aria-labelledby="modeling-a-chess-piece"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modeling a Chess Piece
        
        
      </h2>
    

<p>A chess set is made up of a number of pieces. Let’s think about the pieces first. Each piece needs a name and a color, and an image. We need to be able to draw each piece to the screen. In a fully implemented game we might add attributes such as <code class="language-plaintext highlighter-rouge">starting_position</code>, <code class="language-plaintext highlighter-rouge">current_position</code>,  <code class="language-plaintext highlighter-rouge">captured</code>, and others.</p>

<p>We’ll make a file called <em>chess_set.py</em>, which will contain a class for representing pieces and a class for representing the set as a whole. Here’s the start of that file, with the <code class="language-plaintext highlighter-rouge">Piece</code> class defined:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""Module to represent a chess set, and individual pieces."""</span>

<span class="k">class</span> <span class="nc">Piece</span><span class="p">:</span>
    <span class="s">"""Represents a chess piece."""</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chess_game</span><span class="p">):</span>
        <span class="s">"""Initialize attributes to represent a ches piece."""</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">''</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="s">''</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">chess_game</span><span class="p">.</span><span class="n">screen</span>

        <span class="c1"># Start each piece off at the top left corner.
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span>

    <span class="k">def</span> <span class="nf">blitme</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Draw the piece at its current location."""</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">get_rect</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">rect</span><span class="p">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">y</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span><span class="p">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">image</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">rect</span><span class="p">)</span>
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">Piece</code> class allows us to assign each piece an image, a name, and a color. Each piece will start off at the top left corner, but we can move it wherever it needs to go. The only argument needed to create a piece initially is a reference to the overall game object. When we’re ready to draw a piece to the screen, we can do so by calling <code class="language-plaintext highlighter-rouge">blitme()</code>.</p>
      <h2 id="modeling-a-chess-set">
        
        
          <a href="#modeling-a-chess-set" class="anchor-heading" aria-labelledby="modeling-a-chess-set"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Modeling a Chess Set
        
        
      </h2>
    

<p>Now we can start to model the set as a whole. The set will handle the task of creating all the pieces. In a fuller implementation, it might also track attributes such as the overall strength of the player’s remaining pieces, which can be useful in developing playing strategies.</p>
      <h3 id="the-chessset-class">
        
        
          <a href="#the-chessset-class" class="anchor-heading" aria-labelledby="the-chessset-class"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The <code class="language-plaintext highlighter-rouge">ChessSet</code> class
        
        
      </h3>
    

<p>Here’s the start of the <code class="language-plaintext highlighter-rouge">ChessSet</code> class. To begin with, we want an <code class="language-plaintext highlighter-rouge">__init__()</code> method that accepts the overall game object, and we want to call a helper method that builds the pieces that make up the set. Add this code to <em>chess_set.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""Module to represent a chess set, and individual pieces."""</span>

<span class="k">class</span> <span class="nc">ChessSet</span><span class="p">:</span>
    <span class="s">"""Represents a set of chess pieces.
    Each piece is an object of the Piece class.
    """</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chess_game</span><span class="p">):</span>
        <span class="s">"""Initialize attributes to represent the overall set of pieces."""</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">chess_game</span> <span class="o">=</span> <span class="n">chess_game</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">pieces</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_load_pieces</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_load_pieces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Builds the overall set:
        - Loads images from the sprite sheet.
        - Creates a Piece object, and sets appropriate attributes
          for that piece.
        - Adds each piece to the group self.pieces.
        """</span>
        <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Piece</span><span class="p">:</span>
    <span class="o">--</span><span class="n">snip</span><span class="o">--</span>
</code></pre></div></div>

<p>We have an <code class="language-plaintext highlighter-rouge">__init__()</code> method which accepts a reference to the overall game object, and we have an attribute for storing the pieces in the set. We also call<code class="language-plaintext highlighter-rouge">_load_pieces()</code>, which is a stub for now.</p>
      <h3 id="loading-the-first-piece">
        
        
          <a href="#loading-the-first-piece" class="anchor-heading" aria-labelledby="loading-the-first-piece"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Loading the first piece
        
        
      </h3>
    

<p>When loading images from a sprite sheet, it’s helpful to start with a library if possible. If you search something like <a href="https://www.google.com/search?client=safari&amp;rls=en&amp;q=pygame+sprite+sheet">“pygame sprite sheet”</a>, one of the <a href="https://www.pygame.org/wiki/Spritesheet">top results is from the Pygame wiki</a>. Here’s a cleaned-up version of the code featured there:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># This class handles sprite sheets
# This was taken from www.scriptefun.com/transcript-2-using
# sprite-sheets-and-drawing-the-background
# I've added some code to fail if the file wasn't found..
# Note: When calling images_at the rect is the format:
# (x, y, x + offset, y + offset)
</span>
<span class="c1"># Additional notes
# - Further adaptations from https://www.pygame.org/wiki/Spritesheet
# - Cleaned up overall formatting.
# - Updated from Python 2 -&gt; Python 3.
</span>
<span class="kn">import</span> <span class="nn">pygame</span>


<span class="k">class</span> <span class="nc">SpriteSheet</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="s">"""Load the sheet."""</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">sheet</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">image</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">filename</span><span class="p">).</span><span class="n">convert</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">pygame</span><span class="p">.</span><span class="n">error</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Unable to load spritesheet image: </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            <span class="k">raise</span> <span class="nb">SystemExit</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">image_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">colorkey</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="s">"""Load a specific image from a specific rectangle."""</span>
        <span class="c1"># Loads image from x, y, x+offset, y+offset.
</span>        <span class="n">rect</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">rectangle</span><span class="p">)</span>
        <span class="n">image</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">Surface</span><span class="p">(</span><span class="n">rect</span><span class="p">.</span><span class="n">size</span><span class="p">).</span><span class="n">convert</span><span class="p">()</span>
        <span class="n">image</span><span class="p">.</span><span class="n">blit</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">sheet</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">rect</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">colorkey</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">colorkey</span> <span class="ow">is</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                <span class="n">colorkey</span> <span class="o">=</span> <span class="n">image</span><span class="p">.</span><span class="n">get_at</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
            <span class="n">image</span><span class="p">.</span><span class="n">set_colorkey</span><span class="p">(</span><span class="n">colorkey</span><span class="p">,</span> <span class="n">pygame</span><span class="p">.</span><span class="n">RLEACCEL</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">image</span>

    <span class="k">def</span> <span class="nf">images_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rects</span><span class="p">,</span> <span class="n">colorkey</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="s">"""Load a whole bunch of images and return them as a list."""</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">image_at</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">colorkey</span><span class="p">)</span> <span class="k">for</span> <span class="n">rect</span> <span class="ow">in</span> <span class="n">rects</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">load_strip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">image_count</span><span class="p">,</span> <span class="n">colorkey</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="s">"""Load a whole strip of images, and return them as a list."""</span>
        <span class="n">tups</span> <span class="o">=</span> <span class="p">[(</span><span class="n">rect</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">rect</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">rect</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">rect</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">rect</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">image_count</span><span class="p">)]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">images_at</span><span class="p">(</span><span class="n">tups</span><span class="p">,</span> <span class="n">colorkey</span><span class="p">)</span>
</code></pre></div></div>

<p>Copy what you see here and save it as <em>spritesheet.py</em>, in the same folder where you saved <em>chess_game.py</em>.</p>

<p>This file contains a class called <code class="language-plaintext highlighter-rouge">SpriteSheet</code> that can help us work with sprite sheets. The method we’re most interested in is <code class="language-plaintext highlighter-rouge">image_at()</code>. To use this, we’ll make an object from the <code class="language-plaintext highlighter-rouge">SpriteSheet</code> class, passing it the location of our sprite sheet file. We’ll figure out which rectangular portion of the sprite sheet we want to load - the coordinates of its top left corner, and the width and height of the region we want to load. We’ll call <code class="language-plaintext highlighter-rouge">image_at()</code> with these four values.</p>

<p>If you look at the file <em>chess_pieces.bmp</em>, you can see that the left edge of the black king is about 68 pixels from the edge of the image, and the top of the king is about 70 pixels from the top edge of the image. These will be the first two values we pass to <code class="language-plaintext highlighter-rouge">image_at()</code>. The king is about 85 pixels wide by 85 pixels tall.</p>

<p>Here’s what we’ll do:</p>

<ul>
  <li>Import the <code class="language-plaintext highlighter-rouge">SpriteSheet</code> class.</li>
  <li>Create a <code class="language-plaintext highlighter-rouge">SpriteSheet</code> object.</li>
  <li>Pull the image associated with the rectangle (68, 70, 85, 85).</li>
  <li>Create an object from the <code class="language-plaintext highlighter-rouge">Piece</code> class.</li>
  <li>Assign this object the name <code class="language-plaintext highlighter-rouge">'king'</code>, the color <code class="language-plaintext highlighter-rouge">'black'</code>, and the image we just pulled.</li>
  <li>Add this object to the list <code class="language-plaintext highlighter-rouge">pieces</code>.</li>
</ul>

<p>We’ll do all of this in <em>chess_set.py</em>, in the <code class="language-plaintext highlighter-rouge">_load_pieces()</code> method:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""Module to represent a chess set, and individual pieces."""</span>

<span class="kn">from</span> <span class="nn">spritesheet</span> <span class="kn">import</span> <span class="n">SpriteSheet</span>


<span class="k">class</span> <span class="nc">ChessSet</span><span class="p">:</span>
    <span class="o">--</span><span class="n">snip</span><span class="o">--</span>

    <span class="k">def</span> <span class="nf">_load_pieces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Builds the overall set:
        - Loads images from the sprite sheet.
        - Creates a Piece object, and sets appropriate attributes
          for that piece.
        - Adds each piece to the list self.pieces.
        """</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="s">'images/chess_pieces.bmp'</span>
        <span class="n">piece_ss</span> <span class="o">=</span> <span class="n">SpriteSheet</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

        <span class="c1"># Create a black king.
</span>        <span class="n">b_king_rect</span> <span class="o">=</span> <span class="p">(</span><span class="mi">68</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">85</span><span class="p">,</span> <span class="mi">85</span><span class="p">)</span>
        <span class="n">b_king_image</span> <span class="o">=</span> <span class="n">piece_ss</span><span class="p">.</span><span class="n">image_at</span><span class="p">(</span><span class="n">b_king_rect</span><span class="p">)</span>

        <span class="n">b_king</span> <span class="o">=</span> <span class="n">Piece</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">chess_game</span><span class="p">)</span>
        <span class="n">b_king</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">b_king_image</span>
        <span class="n">b_king</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="s">'king'</span>
        <span class="n">b_king</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="s">'black'</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">pieces</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">b_king</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Piece</span><span class="p">:</span>
    <span class="o">--</span><span class="n">snip</span><span class="o">--</span>
</code></pre></div></div>

<p>There are many ways we could have done this. You can create the piece first, and then load the image, or you can load the image and assign it to the piece in one line. I’m doing it the way you see here because in a little bit I’m going to show you how to load all the images at once, and then write a loop that creates the pieces all at once as well.</p>

<p>To see the piece that we grabbed, let’s modify the <code class="language-plaintext highlighter-rouge">_update_screen()</code> method in <em>chess_game.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""Chess game, for learning to grab images from a sprite sheet."""</span>

<span class="kn">import</span> <span class="nn">sys</span>

<span class="kn">import</span> <span class="nn">pygame</span>

<span class="kn">from</span> <span class="nn">settings</span> <span class="kn">import</span> <span class="n">Settings</span>
<span class="kn">from</span> <span class="nn">chess_set</span> <span class="kn">import</span> <span class="n">ChessSet</span>


<span class="k">class</span> <span class="nc">ChessGame</span><span class="p">:</span>
    <span class="s">"""Overall class to manage game assets and behavior."""</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Initialize the game, and create resources."""</span>
        <span class="n">pygame</span><span class="p">.</span><span class="n">init</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span> <span class="o">=</span> <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_mode</span><span class="p">(</span>
                <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">screen_width</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">screen_height</span><span class="p">))</span>
        <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s">"Chess"</span><span class="p">)</span>

        <span class="bp">self</span><span class="p">.</span><span class="n">chess_set</span> <span class="o">=</span> <span class="n">ChessSet</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_game</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Start the main loop for the game."""</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_check_events</span><span class="p">()</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">_update_screen</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_check_events</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="p">.</span><span class="n">event</span><span class="p">.</span><span class="n">get</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">QUIT</span><span class="p">:</span>
                <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>
            <span class="k">elif</span> <span class="n">event</span><span class="p">.</span><span class="nb">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">KEYDOWN</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">event</span><span class="p">.</span><span class="n">key</span> <span class="o">==</span> <span class="n">pygame</span><span class="p">.</span><span class="n">K_q</span><span class="p">:</span>
                    <span class="n">sys</span><span class="p">.</span><span class="nb">exit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_update_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">bg_color</span><span class="p">)</span>

        <span class="c1"># Draw the black king in its current position.
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">chess_set</span><span class="p">.</span><span class="n">pieces</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">blitme</span><span class="p">()</span>

        <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">chess_game</span> <span class="o">=</span> <span class="n">ChessGame</span><span class="p">()</span>
    <span class="n">chess_game</span><span class="p">.</span><span class="n">run_game</span><span class="p">()</span>
</code></pre></div></div>

<p>We first import <code class="language-plaintext highlighter-rouge">ChessSet</code>. Then in <code class="language-plaintext highlighter-rouge">__init__()</code> we make an attribute called <code class="language-plaintext highlighter-rouge">chess_set</code>, which is an object of the <code class="language-plaintext highlighter-rouge">ChessSet</code> class. This object needs a reference to the overall game object, which in this file is represented by <code class="language-plaintext highlighter-rouge">self</code>. In <code class="language-plaintext highlighter-rouge">_update_screen()</code>, we call <code class="language-plaintext highlighter-rouge">blitme()</code> on the first (and only) piece in the set.</p>

<p>The output shows the black king in the upper left corner of the game window:</p>

<p><img src="../../images/challenge_images/chess_game_king.png" alt="" /></p>

<p>We’ve pretty much got the image we want. We might want to go back and refine the rectangle we used for pulling this image, to even out the amount of background on each of the margins.</p>

<p>Don’t be surprised if you see a much different area of the sprite sheet than you were expecting when you run your own code. It can take a bit of practice to understand how to choose the right rectangle coordinates, and even with practice it’s easy to make a mistake that grabs the wrong part of the sprite sheet. If you see a black rectangle, it’s possible you asked for a portion of the sprite sheet that doesn’t exist.</p>
      <h3 id="loading-all-the-pieces">
        
        
          <a href="#loading-all-the-pieces" class="anchor-heading" aria-labelledby="loading-all-the-pieces"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Loading all the pieces
        
        
      </h3>
    

<p>As mentioned earlier, it’s possible to load all of the images we need from the spritesheet at once, and then assign each one to the appropriate piece. This can be much easier than figuring out the coordinates by hand for each individual piece, especially if you’re working with multiple sprite sheets.</p>

<p>Consider the original sprite sheet again, this time with a couple aspects of the sheet highlighted:</p>

<p><img src="../../images/challenge_images/chess_pieces_annotated.bmp" alt="" /></p>

<p>The dark blue rectangle shows the space to the left of the first column, which we can call a <em>margin</em>. The light blue region shows the horizontal space between columns, which we can call <em>padding</em>. The dark green bar shows the margin above the first row, and the light green bar shows the vertical padding between each row.</p>

<p>These spacings allow us to work out a pattern for where each image should be grabbed. For example the left position of the black king is equal to the width of the horizontal margin. The left position of the black queen is equal to the width of the horizontal margin, plus the width of a piece, plus the width of one strip of padding. For the third icon in the first row, the horizontal position is one margin width, plus two padding widths, plus two icon widths. The width of an icon should be the width of the overall image, minus the space taken by the margins and padding, divided by the number of columns.</p>

<p>If you want a challenge, try adding a method called <code class="language-plaintext highlighter-rouge">load_grid_images()</code> to <code class="language-plaintext highlighter-rouge">SpriteSheet</code>. The method should take in the following arguments: <code class="language-plaintext highlighter-rouge">num_rows</code>, <code class="language-plaintext highlighter-rouge">num_cols</code>, <code class="language-plaintext highlighter-rouge">x_margin</code>, <code class="language-plaintext highlighter-rouge">x_padding</code>, <code class="language-plaintext highlighter-rouge">y_margin</code>, and <code class="language-plaintext highlighter-rouge">y_padding</code>. The method should use these values to figure out the width and height of each piece, and call <code class="language-plaintext highlighter-rouge">image_at()</code> with the appropriate parameters. You should be able to call <code class="language-plaintext highlighter-rouge">load_grid_images()</code> with the appropriate values, and the method should return a list of all sprites in the sprite sheet. If you want to try this, pause and try it now, because I’m going to show that method and then we’ll use it to load the rest of the pieces.</p>
      <h4 id="the-load_grid_images-method">
        
        
          <a href="#the-load_grid_images-method" class="anchor-heading" aria-labelledby="the-load_grid_images-method"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The <code class="language-plaintext highlighter-rouge">load_grid_images()</code> method
        
        
      </h4>
    

<p>Here’s the <code class="language-plaintext highlighter-rouge">load_grid_images()</code> method, which we can add on to the end of <code class="language-plaintext highlighter-rouge">SpriteSheet</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">--</span><span class="n">snip</span><span class="o">--</span>

<span class="k">class</span> <span class="nc">SpriteSheet</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
        <span class="o">--</span><span class="n">snip</span><span class="o">--</span>

    <span class="k">def</span> <span class="nf">image_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">colorkey</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="o">--</span><span class="n">snip</span><span class="o">--</span>

    <span class="k">def</span> <span class="nf">images_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rects</span><span class="p">,</span> <span class="n">colorkey</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="o">--</span><span class="n">snip</span><span class="o">--</span>

    <span class="k">def</span> <span class="nf">load_strip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">image_count</span><span class="p">,</span> <span class="n">colorkey</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="o">--</span><span class="n">snip</span><span class="o">--</span>

    <span class="k">def</span> <span class="nf">load_grid_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_rows</span><span class="p">,</span> <span class="n">num_cols</span><span class="p">,</span> <span class="n">x_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">x_padding</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
            <span class="n">y_margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y_padding</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="s">"""Load a grid of images.
        x_margin is space between top of sheet and top of first row.
        x_padding is space between rows.
        Assumes symmetrical padding on left and right.
        Same reasoning for y.
        Calls self.images_at() to get list of images.
        """</span>
        <span class="n">sheet_rect</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">sheet</span><span class="p">.</span><span class="n">get_rect</span><span class="p">()</span>
        <span class="n">sheet_width</span><span class="p">,</span> <span class="n">sheet_height</span> <span class="o">=</span> <span class="n">sheet_rect</span><span class="p">.</span><span class="n">size</span>

        <span class="c1"># To calculate the size of each sprite, subtract the two margins, 
</span>        <span class="c1">#   and the padding between each row, then divide by num_cols.
</span>        <span class="c1"># Same reasoning for y.
</span>        <span class="n">x_sprite_size</span> <span class="o">=</span> <span class="p">(</span> <span class="n">sheet_width</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">x_margin</span>
                <span class="o">-</span> <span class="p">(</span><span class="n">num_cols</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">x_padding</span> <span class="p">)</span> <span class="o">/</span> <span class="n">num_cols</span>
        <span class="n">y_sprite_size</span> <span class="o">=</span> <span class="p">(</span> <span class="n">sheet_height</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">y_margin</span>
                <span class="o">-</span> <span class="p">(</span><span class="n">num_rows</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">y_padding</span> <span class="p">)</span> <span class="o">/</span> <span class="n">num_rows</span>

        <span class="n">sprite_rects</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_rows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">col_num</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_cols</span><span class="p">):</span>
                <span class="c1"># Position of sprite rect is margin + one sprite size
</span>                <span class="c1">#   and one padding size for each row. Same for y.
</span>                <span class="n">x</span> <span class="o">=</span> <span class="n">x_margin</span> <span class="o">+</span> <span class="n">col_num</span> <span class="o">*</span> <span class="p">(</span><span class="n">x_sprite_size</span> <span class="o">+</span> <span class="n">x_padding</span><span class="p">)</span>
                <span class="n">y</span> <span class="o">=</span> <span class="n">y_margin</span> <span class="o">+</span> <span class="n">row_num</span> <span class="o">*</span> <span class="p">(</span><span class="n">y_sprite_size</span> <span class="o">+</span> <span class="n">y_padding</span><span class="p">)</span>
                <span class="n">sprite_rect</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x_sprite_size</span><span class="p">,</span> <span class="n">y_sprite_size</span><span class="p">)</span>
                <span class="n">sprite_rects</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">sprite_rect</span><span class="p">)</span>

        <span class="n">grid_images</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">images_at</span><span class="p">(</span><span class="n">sprite_rects</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Loaded </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">grid_images</span><span class="p">)</span><span class="si">}</span><span class="s"> grid images."</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">grid_images</span>
</code></pre></div></div>

<p>This might look like a long method, but it’s only about 15 lines of code. Real-world functions and classes can include more comments than you typically see in books. It’s also a little longer than it needs to be, for clarity in a tutorial. For example if you didn’t need to see how many images were loaded, you could collapse the last three lines into one line:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">images_at</span><span class="p">(</span><span class="n">sprite_rects</span><span class="p">)</span>
</code></pre></div></div>
      <h4 id="using-load_grid_images">
        
        
          <a href="#using-load_grid_images" class="anchor-heading" aria-labelledby="using-load_grid_images"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using <code class="language-plaintext highlighter-rouge">load_grid_images()</code>
        
        
      </h4>
    

<p>We’ll first use this method to load all the images, and see if it’s grabbing all the correct portions of the sprite sheet. We’ll do this in <code class="language-plaintext highlighter-rouge">_load_pieces()</code>, in <code class="language-plaintext highlighter-rouge">ChessSet</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">_load_pieces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Builds the overall set:
        - Loads images from the sprite sheet.
        - Creates a Piece object, and sets appropriate attributes
          for that piece.
        - Adds each piece to the list self.pieces.
        """</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="s">'images/chess_pieces.bmp'</span>
        <span class="n">piece_ss</span> <span class="o">=</span> <span class="n">SpriteSheet</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

        <span class="c1"># Load all piece images.
</span>        <span class="n">piece_images</span> <span class="o">=</span> <span class="n">piece_ss</span><span class="p">.</span><span class="n">load_grid_images</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">x_margin</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
                <span class="n">x_padding</span><span class="o">=</span><span class="mi">72</span><span class="p">,</span> <span class="n">y_margin</span><span class="o">=</span><span class="mi">68</span><span class="p">,</span> <span class="n">y_padding</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>

        <span class="c1"># Create a new Piece object for every image.
</span>        <span class="k">for</span> <span class="n">image</span> <span class="ow">in</span> <span class="n">piece_images</span><span class="p">:</span>
            <span class="n">piece</span> <span class="o">=</span> <span class="n">Piece</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">chess_game</span><span class="p">)</span>
            <span class="n">piece</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">image</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">pieces</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">piece</span><span class="p">)</span>
</code></pre></div></div>

<p>We use <code class="language-plaintext highlighter-rouge">load_grid_images()</code> to load 2 rows with 6 columns each, and specify appropriate margin and padding amounts. We then create one <code class="language-plaintext highlighter-rouge">Piece</code> object for every image that was loaded; we’ll take care of setting the name and color values in a moment.</p>

<p>When we run <em>chess_game.py</em> again, we should see the black king in the upper left corner, since it was the first piece loaded. This works; the game window looks just like it did when we loaded a single image, with a slightly different cropping region.</p>
      <h4 id="setting-values-for-name-and-color">
        
        
          <a href="#setting-values-for-name-and-color" class="anchor-heading" aria-labelledby="setting-values-for-name-and-color"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting values for <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">color</code>
        
        
      </h4>
    

<p>There’s a pattern in the sprite sheet, which we can use to efficiently set the name and color values for each piece. We’ll create a list of colors, and a list of piece names. Then we’ll set up nested loops that cycle through the pieces in the same order that <code class="language-plaintext highlighter-rouge">load_grid_images()</code> works, one row at a time.</p>

<p>Here’s the complete <code class="language-plaintext highlighter-rouge">_load_pieces()</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">_load_pieces</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""Builds the overall set:
        - Loads images from the sprite sheet.
        - Creates a Piece object, and sets appropriate attributes
          for that piece.
        - Adds each piece to the list self.pieces.
        """</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="s">'images/chess_pieces.bmp'</span>
        <span class="n">piece_ss</span> <span class="o">=</span> <span class="n">SpriteSheet</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>

        <span class="c1"># Load all piece images.
</span>        <span class="n">piece_images</span> <span class="o">=</span> <span class="n">piece_ss</span><span class="p">.</span><span class="n">load_grid_images</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">x_margin</span><span class="o">=</span><span class="mi">64</span><span class="p">,</span>
                <span class="n">x_padding</span><span class="o">=</span><span class="mi">72</span><span class="p">,</span> <span class="n">y_margin</span><span class="o">=</span><span class="mi">68</span><span class="p">,</span> <span class="n">y_padding</span><span class="o">=</span><span class="mi">48</span><span class="p">)</span>

        <span class="c1"># Create a Piece for each image.
</span>        <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s">'black'</span><span class="p">,</span> <span class="s">'white'</span><span class="p">]</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="s">'king'</span><span class="p">,</span> <span class="s">'queen'</span><span class="p">,</span> <span class="s">'rook'</span><span class="p">,</span> <span class="s">'bishop'</span><span class="p">,</span> <span class="s">'knight'</span><span class="p">,</span> <span class="s">'pawn'</span><span class="p">]</span>

        <span class="n">piece_num</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">color</span> <span class="ow">in</span> <span class="n">colors</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
                <span class="n">piece</span> <span class="o">=</span> <span class="n">Piece</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">chess_game</span><span class="p">)</span>
                <span class="n">piece</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
                <span class="n">piece</span><span class="p">.</span><span class="n">color</span> <span class="o">=</span> <span class="n">color</span>
                <span class="n">piece</span><span class="p">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">piece_images</span><span class="p">[</span><span class="n">piece_num</span><span class="p">]</span>
                <span class="bp">self</span><span class="p">.</span><span class="n">pieces</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">piece</span><span class="p">)</span>

                <span class="n">piece_num</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div>

<p>We load all the piece images, just as we did before. Then we set a counter, <code class="language-plaintext highlighter-rouge">piece_num</code>, to keep track of how many pieces we’ve made. This will serve as an index to the image we want from the list <code class="language-plaintext highlighter-rouge">piece_images</code>. We loop through the colors, and then through the names. This will result in processing each of the black pieces, and then each of the white pieces. For each piece, we set the appropriate values, add it to the list <code class="language-plaintext highlighter-rouge">self.pieces</code>, and increment the value of <code class="language-plaintext highlighter-rouge">piece_num</code>.</p>

<p>When we run <em>chess_game.py</em> again, we should still see the black king because it’s always the first piece in the list.</p>
      <h4 id="seeing-all-the-pieces">
        
        
          <a href="#seeing-all-the-pieces" class="anchor-heading" aria-labelledby="seeing-all-the-pieces"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Seeing all the pieces
        
        
      </h4>
    

<p>Now let’s check that all of the pieces were pulled correctly. We can do this in <code class="language-plaintext highlighter-rouge">_update_screen()</code>, in <em>chess_game.py</em>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">def</span> <span class="nf">_update_screen</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">screen</span><span class="p">.</span><span class="n">fill</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">settings</span><span class="p">.</span><span class="n">bg_color</span><span class="p">)</span>

        <span class="c1"># Draw a row of black pieces.
</span>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">piece</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">chess_set</span><span class="p">.</span><span class="n">pieces</span><span class="p">[:</span><span class="mi">6</span><span class="p">]):</span>
            <span class="n">piece</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">100</span>
            <span class="n">piece</span><span class="p">.</span><span class="n">blitme</span><span class="p">()</span>

        <span class="c1"># Draw a row of white pieces.
</span>        <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">piece</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">chess_set</span><span class="p">.</span><span class="n">pieces</span><span class="p">[</span><span class="mi">6</span><span class="p">:]):</span>
            <span class="n">piece</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">index</span> <span class="o">*</span> <span class="mi">100</span>
            <span class="n">piece</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span class="mi">100</span>
            <span class="n">piece</span><span class="p">.</span><span class="n">blitme</span><span class="p">()</span>

        <span class="n">pygame</span><span class="p">.</span><span class="n">display</span><span class="p">.</span><span class="n">flip</span><span class="p">()</span>
</code></pre></div></div>

<p>We loop through the first 6 pieces. For each piece, we set the x value 100 higher than the piece before it. If you haven’t seen the <code class="language-plaintext highlighter-rouge">enumerate()</code> function yet, it’s mentioned on page 335 in the book. The <code class="language-plaintext highlighter-rouge">enumerate()</code> function returns the index and the value of each item as you loop through a list. We do the same for the white pieces, except we set the y value to 100 so they appear as a second row.</p>

<p>Here we can see that all of the pieces were grabbed appropriately:</p>

<p><img src="../../images/challenge_images/chess_game_all_pieces.png" alt="" /></p>
      <h3 id="making-mistakes">
        
        
          <a href="#making-mistakes" class="anchor-heading" aria-labelledby="making-mistakes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Making mistakes
        
        
      </h3>
    

<p>When you’re reading a tutorial like this, it’s easy to think that everything is supposed to work out perfectly the first time you write your code. That’s not at all the case! I made a number of mistakes in the process of working out <code class="language-plaintext highlighter-rouge">load_grid_images()</code>, and more mistakes when using it to grab the images for each piece. For example when I first called <code class="language-plaintext highlighter-rouge">load_grid_images()</code>, I mixed up the values for the number of rows and columns. When I ran <em>chess_game.py</em>, I saw a blank game window. I had no idea why the images weren’t being grabbed. I ended up looking at the value of <code class="language-plaintext highlighter-rouge">sprite_rect</code> in <code class="language-plaintext highlighter-rouge">load_grid_images()</code>, and saw that the width of the image being grabbed was negative. That led me back to looking at the values I was passing to <code class="language-plaintext highlighter-rouge">load_grid_images()</code>, and I spotted the mixup. But it took a while, and it was not at all obvious what was going on at first.</p>

<p>If I were going to use this module to create a lot of games using sprite sheets, or if I was maintaining this for a widely-distributed package, I’d probably add some error-checking code to make sure all of the sizes in <code class="language-plaintext highlighter-rouge">load_grid_images()</code> come out positive. But I’m trying to keep things simple for now, so I’m not adding that degree of error-checking at this point.</p>

<p>If you run into mistakes in the game you’re working on, or any project you find yourself involved in, please know that everyone makes mistakes almost every single day. You are not alone. :)</p>
      <h2 id="loading-your-own-images">
        
        
          <a href="#loading-your-own-images" class="anchor-heading" aria-labelledby="loading-your-own-images"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Loading Your Own Images
        
        
      </h2>
    

<p>Some people like to place files like <em>spritesheet.py</em> in a directory called <em>utils</em> inside their main project folder, and then their import statement looks like this:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">utils.spritesheet</span> <span class="kn">import</span> <span class="n">SpriteSheet</span>
</code></pre></div></div>

<p>This makes it clear what code is specific to your game, and what code is a utility module that could be used for any game. If you’re making a lot of games, you can place the utils directory in a location that’s accessible to all your games, so you don’t have a bunch of copies of the same utility module all over your system.</p>

<p>You can find the full <em>spritesheet.py</em> module <a href="https://github.com/ehmatthes/pcc_2e/blob/master/beyond_pcc/chess_game/utils/spritesheet.py">here</a>. It’s also in the <a href="https://github.com/ehmatthes/pcc_2e/tree/master/beyond_pcc"><em>beyond_pcc</em></a> folder in the <a href="https://github.com/ehmatthes/pcc_2e/zipball/master/">zip file</a> of online resources for the book. If you don’t see that folder, you might need to download a newer copy of the online resources, as I’ve just recently added this section.</p>
      <h2 id="final-words">
        
        
          <a href="#final-words" class="anchor-heading" aria-labelledby="final-words"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Final Words
        
        
      </h2>
    
      <h3 id="groups-vs-lists">
        
        
          <a href="#groups-vs-lists" class="anchor-heading" aria-labelledby="groups-vs-lists"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Groups vs Lists
        
        
      </h3>
    

<p>The point of this guide was to show how you can load images from a sprite sheet when using Pygame. There’s a lot that we might do differently if we were focused on building a fully-functioning chess game. For example, should we store the pieces in a list like we did, or should they be placed into a Pygame <code class="language-plaintext highlighter-rouge">Group</code>? I used a list here because a list is ordered, and The book’s author says he wantsed the order of <code class="language-plaintext highlighter-rouge">self.pieces</code> to match the order we see in the sprite sheet. A group is not ordered, so it wouldn’t necessarily work for this purpose. A group is great when you want to repeatedly draw a bunch of elements to the screen, and the order you’re keeping them in doesn’t matter.</p>
      <h3 id="sprite-sheets-with-non-uniform-grids">
        
        
          <a href="#sprite-sheets-with-non-uniform-grids" class="anchor-heading" aria-labelledby="sprite-sheets-with-non-uniform-grids"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sprite sheets with non-uniform grids
        
        
      </h3>
    

<p>Many sprite sheets are set up in a grid like we saw with <em>chess_pieces.bmp</em>. For example a deck of cards might have four rows of 13 cards each, and maybe an extra row for a card back and a joker. However, some sprite sheets have icons of different sizes on them. In that case you might be able to call <code class="language-plaintext highlighter-rouge">load_grid_images()</code> for most of the icons, and then call <code class="language-plaintext highlighter-rouge">image_at()</code> for some of the oddly-sized icons.</p>
      <h3 id="determining-margin-and-padding-sizes">
        
        
          <a href="#determining-margin-and-padding-sizes" class="anchor-heading" aria-labelledby="determining-margin-and-padding-sizes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Determining margin and padding sizes
        
        
      </h3>
    

<p>If you’re not sure how to determine pixel sizes on a sprite sheet, try opening the file in an image previewer or editor. Most viewers and editors allow you to make selections in a way that shows you the dimensions of the selection in pixels. For example on macOS you can open Preview, click Tools &gt; Rectangular Selection, and drag a rectangle around the region you want to measure. A small popup will show you the width and height of the rectangular region you have selected.</p>

<p>If you’re completely at a loss, make a guess and see how accurately the first image is grabbed. That should allow you to work out the size of the margins, and looking at the second image should allow you to work out the padding.</p>


        

        

        
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>

