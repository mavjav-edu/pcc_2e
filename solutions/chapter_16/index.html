

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  


  <link rel="shortcut icon" href="/pcc_2e/assets/images/favicon.ico" type="image/x-icon"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/pcc_2e/assets/images/apple-touch-icon.png"/>
  <link rel="icon" type="image/png" sizes="32x32" href="/pcc_2e/assets/images/favicon-32x32.png"/>
  <link rel="icon" type="image/png" sizes="16x16" href="/pcc_2e/assets/images/favicon-16x16.png"/>
  <link rel="manifest" href="/pcc_2e/assets/site.webmanifest"/>

  <link rel="stylesheet" href="/pcc_2e/assets/css/just-the-docs-default.css">

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H1B6T2W9DJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    
    gtag('config', 'G-H1B6T2W9DJ');
    
  </script>

  

  
  <script type="text/javascript" src="/pcc_2e/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/pcc_2e/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Chapter 16 | Python Crash Course, 2nd Edition</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Chapter 16" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Online Resources for Python Crash Course, from No Starch Press" />
<meta property="og:description" content="Online Resources for Python Crash Course, from No Starch Press" />
<link rel="canonical" href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/" />
<meta property="og:url" content="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/" />
<meta property="og:site_name" content="Python Crash Course, 2nd Edition" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Chapter 16" />
<script type="application/ld+json">
{"headline":"Chapter 16","@type":"WebPage","description":"Online Resources for Python Crash Course, from No Starch Press","url":"https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://mavjav-edu.github.io/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_788.png"}},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="https://mavjav-edu.github.io/pcc_2e/" class="site-title lh-tight">
  <div class="site-logo">
    <img sizes="(max-width: 1380px) 100vw, 1380px"
srcset="/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_50.png 50w,
/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_508.png 508w,
/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_788.png 788w,
/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_1380.png 1380w"
src="/pcc_2e/assets/images/pcc_logo_csyivv_c_scale,w_1380.png"
alt="Python Crash Course 2nd Edition"></div>

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/" class="nav-list-link">Home</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/cip/" class="nav-list-link">Coding is political</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/updates/" class="nav-list-link">Updates</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/first_printing/" class="nav-list-link">First printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/second_printing/" class="nav-list-link">Second printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/third_printing/" class="nav-list-link">Third printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/fourth_printing/" class="nav-list-link">Fourth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/fifth_printing/" class="nav-list-link">Fifth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/sixth_printing/" class="nav-list-link">Sixth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/seventh_printing/" class="nav-list-link">Seventh printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/eighth_printing/" class="nav-list-link">Eighth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/ninth_printing/" class="nav-list-link">Ninth printing</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/which_printing/" class="nav-list-link">Which printing do I have?</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/updates/django3_2/" class="nav-list-link">Django 3.2</a>
                  </li></ul></li><li class="nav-list-item  active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/solutions/" class="nav-list-link">Solutions</a><ul class="nav-list"><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_2/" class="nav-list-link">Chapter 2</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_3/" class="nav-list-link">Chapter 3</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_4/" class="nav-list-link">Chapter 4</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_5/" class="nav-list-link">Chapter 5</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_6/" class="nav-list-link">Chapter 6</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_7/" class="nav-list-link">Chapter 7</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_8/" class="nav-list-link">Chapter 8</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_9/" class="nav-list-link">Chapter 9</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_10/" class="nav-list-link">Chapter 10</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_11/" class="nav-list-link">Chapter 11</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_12/" class="nav-list-link">Chapter 12</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_13/" class="nav-list-link">Chapter 13</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_14/" class="nav-list-link">Chapter 14</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_15/" class="nav-list-link">Chapter 15</a>
                  </li><li class="nav-list-item  active">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/" class="nav-list-link active">Chapter 16</a>
                  </li><li class="nav-list-item ">
                    <a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_17/" class="nav-list-link">Chapter 17</a>
                  </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/reader_questions/" class="nav-list-link">Reader Questions</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/finding_employment/" class="nav-list-link">Finding Employment</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/survey/" class="nav-list-link">Survey</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/mailing_list/" class="nav-list-link">Mailing List</a><ul class="nav-list"></ul></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/contact/" class="nav-list-link">Contact</a></li></ul></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/new_in_2e/new_in_2e/" class="nav-list-link">What's new?</a></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/new_in_2e/" class="nav-list-link">What's new?</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/" class="nav-list-link">Setup Instructions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/windows/" class="nav-list-link">Setting up Python on Windows</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/macos/" class="nav-list-link">Setting up Python on macOS</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/linux/" class="nav-list-link">Setting up Python on Linux</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/setup_instructions/" class="nav-list-link">Setup Instructions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/windows/" class="nav-list-link">Setting up Python on Windows</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/macos/" class="nav-list-link">Setting up Python on macOS</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/setup_instructions/linux/" class="nav-list-link">Setting up Python on Linux</a></li></ul></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/cheat_sheets/" class="nav-list-link">Cheat Sheets</a></li><li class="nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/cheat_sheets/cheat_sheets/" class="nav-list-link">Cheat Sheets</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/updates/updates/" class="nav-list-link">Updates</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/first_printing/" class="nav-list-link">First printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/second_printing/" class="nav-list-link">Second printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/third_printing/" class="nav-list-link">Third printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/fourth_printing/" class="nav-list-link">Fourth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/fifth_printing/" class="nav-list-link">Fifth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/sixth_printing/" class="nav-list-link">Sixth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/seventh_printing/" class="nav-list-link">Seventh printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/eighth_printing/" class="nav-list-link">Eighth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/ninth_printing/" class="nav-list-link">Ninth printing</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/which_printing/" class="nav-list-link">Which printing do I have?</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/updates/django3_2/" class="nav-list-link">Django 3.2</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/solutions/solutions/" class="nav-list-link">Solutions</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_2/" class="nav-list-link">Chapter 2</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_3/" class="nav-list-link">Chapter 3</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_4/" class="nav-list-link">Chapter 4</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_5/" class="nav-list-link">Chapter 5</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_6/" class="nav-list-link">Chapter 6</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_7/" class="nav-list-link">Chapter 7</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_8/" class="nav-list-link">Chapter 8</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_9/" class="nav-list-link">Chapter 9</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_10/" class="nav-list-link">Chapter 10</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_11/" class="nav-list-link">Chapter 11</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_12/" class="nav-list-link">Chapter 12</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_13/" class="nav-list-link">Chapter 13</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_14/" class="nav-list-link">Chapter 14</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_15/" class="nav-list-link">Chapter 15</a></li><li class="nav-list-item  active"><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/" class="nav-list-link active">Chapter 16</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_17/" class="nav-list-link">Chapter 17</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/challenges/challenges/" class="nav-list-link">Challenges</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/playing_cards/" class="nav-list-link">Playing Cards</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/photo_filters/" class="nav-list-link">Photo Filters</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/coding_for_social_justice/" class="nav-list-link">Coding for Social Justice</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/ai_player/" class="nav-list-link">Automated Alien Invasion Player</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/challenges/" class="nav-list-link">Challenges</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/playing_cards/" class="nav-list-link">Playing Cards</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/photo_filters/" class="nav-list-link">Photo Filters</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/coding_for_social_justice/" class="nav-list-link">Coding for Social Justice</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/challenges/ai_player/" class="nav-list-link">Automated Alien Invasion Player</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/" class="nav-list-link">Beyond PCC</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/random_functions/" class="nav-list-link">Random Functions</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/" class="nav-list-link">Using Sprite Sheets in Pygame</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/ai_player/" class="nav-list-link">Pygame - Adding Sound and Automating Game Play</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pillow/" class="nav-list-link">Pillow - Working with Images</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/extracting_from_excel/" class="nav-list-link">Extracting Data from Excel Files</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/beyond_pcc/" class="nav-list-link">Beyond PCC</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/random_functions/" class="nav-list-link">Random Functions</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pygame_sprite_sheets/" class="nav-list-link">Using Sprite Sheets in Pygame</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/ai_player/" class="nav-list-link">Pygame - Adding Sound and Automating Game Play</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/pillow/" class="nav-list-link">Pillow - Working with Images</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/beyond_pcc/extracting_from_excel/" class="nav-list-link">Extracting Data from Excel Files</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/recommended_reading/" class="nav-list-link">Recommended Reading</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/first_steps/" class="nav-list-link">First Steps</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/general_python/" class="nav-list-link">General Python Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/data_science/" class="nav-list-link">Data Science Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/django/" class="nav-list-link">Django Resources</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/" class="nav-list-link">Recommended Reading</a><ul class="nav-list "><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/first_steps/" class="nav-list-link">First Steps</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/general_python/" class="nav-list-link">General Python Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/data_science/" class="nav-list-link">Data Science Resources</a></li><li class="nav-list-item "><a href="https://mavjav-edu.github.io/pcc_2e/recommended_reading/django/" class="nav-list-link">Django Resources</a></li></ul></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Python Crash Course, 2nd Edition" aria-label="Search Python Crash Course, 2nd Edition" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="//github.com/mavjav-edu/pcc_2e" class="site-button"
                  
                >
                  Python Crash Course on GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
                <li class="breadcrumb-nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/solutions/solutions/">Home</a></li>
                <li class="breadcrumb-nav-list-item"><a href="https://mavjav-edu.github.io/pcc_2e/solutions/chapter_16/">Solutions</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Chapter 16</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 class="no_toc" id="solutions---chapter-16">
        
        
          <a href="#solutions---chapter-16" class="anchor-heading" aria-labelledby="solutions---chapter-16"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Solutions - Chapter 16
        
        
      </h1>
    

<ul id="markdown-toc">
  <li><a href="#16-1-sitka-rainfall" id="markdown-toc-16-1-sitka-rainfall">16-1: Sitka Rainfall</a></li>
  <li><a href="#16-2-sitkadeath-valley-comparison" id="markdown-toc-16-2-sitkadeath-valley-comparison">16-2: Sitka–Death Valley Comparison</a></li>
  <li><a href="#16-4-automatic-indexes" id="markdown-toc-16-4-automatic-indexes">16-4: Automatic Indexes</a></li>
  <li><a href="#16-6-refactoring" id="markdown-toc-16-6-refactoring">16-6: Refactoring</a></li>
  <li><a href="#16-7-automated-title" id="markdown-toc-16-7-automated-title">16-7: Automated Title</a></li>
  <li><a href="#16-9-world-fires" id="markdown-toc-16-9-world-fires">16-9: World Fires</a></li>
</ul>

<p>Back to <a href="../solutions">solutions</a>.</p><hr />
      <h2 id="16-1-sitka-rainfall">
        
        
          <a href="#16-1-sitka-rainfall" class="anchor-heading" aria-labelledby="16-1-sitka-rainfall"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16-1: Sitka Rainfall
        
        
      </h2>
    

<p>Sitka is in a temperate rainforest, so it gets a fair amount of rainfall. In the data file <em>sitka_weather_2018_simple.csv</em> is a header called <code class="language-plaintext highlighter-rouge">PRCP</code>, which represents daily rainfall amounts. Make a visualization focusing on the data in this column. You can repeat the exercise for Death Valley if you’re curious how little rainfall occurs in a desert.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s">'data/sitka_weather_2018_simple.csv'</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">header_row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="c1"># Get dates and rainfall amounts from this file.
</span>    <span class="n">dates</span><span class="p">,</span> <span class="n">precips</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s">'%Y-%m-%d'</span><span class="p">)</span>
        <span class="n">dates</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_date</span><span class="p">)</span>
        <span class="n">precip</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="n">precips</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">precip</span><span class="p">)</span>

<span class="c1"># Plot the rainfall amounts.
</span><span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'seaborn'</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">precips</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">)</span>

<span class="c1"># Format plot.
</span><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Daily Rainfall Amounts - 2018"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">fig</span><span class="p">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Rainfall (in)"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s">'major'</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/sitka_rainfall.png" alt="Daily rainfall for Sitka, Alaska in 2018" /></p>

<p><a href="#top">top</a></p>
      <h2 id="16-2-sitkadeath-valley-comparison">
        
        
          <a href="#16-2-sitkadeath-valley-comparison" class="anchor-heading" aria-labelledby="16-2-sitkadeath-valley-comparison"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16-2: Sitka–Death Valley Comparison
        
        
      </h2>
    

<p>The temperature scales on the Sitka and Death Valley graphs reflect the different data ranges. To accurately compare the temperature range in Sitka to that of Death Valley, you need identical scales on the y-axis. Change the settings for the y-axis on one or both of the charts in Figures 16-5 and 16-6. Then make a direct comparison between temperature ranges in Sitka and Death Valley (or any two places you want to compare).</p>

<p>The <code class="language-plaintext highlighter-rouge">pyplot</code> function <code class="language-plaintext highlighter-rouge">ylim()</code> allows you to set the limits of just the y-axis. If you ever need to specify the limits of the x-axis, there’s a corresponding <code class="language-plaintext highlighter-rouge">xlim()</code> function as well.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s">'data/sitka_weather_2018_simple.csv'</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">header_row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="c1"># Get dates, and high and low temperatures from this file.
</span>    <span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s">'%Y-%m-%d'</span><span class="p">)</span>
        <span class="n">high</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="n">low</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
        <span class="n">dates</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_date</span><span class="p">)</span>
        <span class="n">highs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
        <span class="n">lows</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

<span class="c1"># Plot the high and low temperatures.
</span><span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'seaborn'</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># Format plot.
</span><span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">"Daily high and low temperatures - 2018"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">fig</span><span class="p">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Temperature (F)"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s">'major'</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/sitka_highs_lows.png" alt="Daily high and low temperatures for Sitka, Alaska in 2018" /></p>

<p>Using the same limits for the <code class="language-plaintext highlighter-rouge">ylim()</code> function with the Death Valley data results in a chart that has the same scale:</p>

<p><img src="../../images/solution_images/death_valley_highs_lows.png" alt="Daily high and low temperatures for Death Valley in 2018" /></p>

<p>There are a number of ways you can approach plotting both data sets on the same chart. In the following solution, we put the code for reading the csv file into a function. We then call it once to grab the highs and lows for Sitka before making the chart, and then call the function a second time to add Death Valley’s data to the existing plot. The colors have been adjusted slightly to make each location’s data distinct.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="k">def</span> <span class="nf">get_weather_data</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">date_index</span><span class="p">,</span> <span class="n">high_index</span><span class="p">,</span>
        <span class="n">low_index</span><span class="p">):</span>
    <span class="s">"""Get the highs and lows from a data file."""</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
        <span class="n">header_row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

        <span class="c1"># Get dates, and high and low temperatures from this file.
</span>        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
            <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">date_index</span><span class="p">],</span> <span class="s">'%Y-%m-%d'</span><span class="p">)</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">high</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">high_index</span><span class="p">])</span>
                <span class="n">low</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">low_index</span><span class="p">])</span>
            <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Missing data for </span><span class="si">{</span><span class="n">current_date</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">dates</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_date</span><span class="p">)</span>
                <span class="n">highs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
                <span class="n">lows</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

<span class="c1"># Get weather data for Sitka.
</span><span class="n">filename</span> <span class="o">=</span> <span class="s">'data/sitka_weather_2018_simple.csv'</span>
<span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="n">get_weather_data</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">date_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">high_index</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
        <span class="n">low_index</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>

<span class="c1"># Plot Sitka weather data.
</span><span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'seaborn'</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.15</span><span class="p">)</span>

<span class="c1"># Get weather data for Death Valley.
</span><span class="n">filename</span> <span class="o">=</span> <span class="s">'data/death_valley_2018_simple.csv'</span>
<span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="n">get_weather_data</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">date_index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">high_index</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
        <span class="n">low_index</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Add Death Valley data to current plot.
</span><span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>

<span class="c1"># Format plot.
</span><span class="n">title</span> <span class="o">=</span> <span class="s">"Daily high and low temperatures - 2018"</span>
<span class="n">title</span> <span class="o">+=</span> <span class="s">"</span><span class="se">\n</span><span class="s">Sitka, AK and Death Valley, CA"</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">24</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">fig</span><span class="p">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Temperature (F)"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s">'major'</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/sitka_death_valley_comparison.png" alt="Daily high and low temperatures for Sitka, AK and Death Valley, CA for 2018" /></p>

<p><a href="#top">top</a></p>
      <h2 id="16-4-automatic-indexes">
        
        
          <a href="#16-4-automatic-indexes" class="anchor-heading" aria-labelledby="16-4-automatic-indexes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16-4: Automatic Indexes
        
        
      </h2>
    

<p>In this section, we hardcoded the indexes corresponding to the <code class="language-plaintext highlighter-rouge">TMIN</code> and <code class="language-plaintext highlighter-rouge">TMAX</code> columns. Use the header row to determine the indexes for these values, so your program can work for Sitka or Death Valley. Use the station name to automatically generate an appropriate title for your graph as well.</p>

<p>The <code class="language-plaintext highlighter-rouge">index()</code> method returns the index of an item in a list. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; animals = ['cat', 'dog', 'mouse', 'elephant']
&gt;&gt;&gt; animals.index('dog')
1
</code></pre></div></div>

<p>This can help us pull the indexes of the headers we want from the header row:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s">'data/death_valley_2018_simple.csv'</span>
<span class="n">filename</span> <span class="o">=</span> <span class="s">'data/sitka_weather_2018_simple.csv'</span>
<span class="n">place_name</span> <span class="o">=</span> <span class="s">''</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">header_row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="k">print</span><span class="p">(</span><span class="n">header_row</span><span class="p">)</span>
    <span class="n">date_index</span> <span class="o">=</span> <span class="n">header_row</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="s">'DATE'</span><span class="p">)</span>
    <span class="n">high_index</span> <span class="o">=</span> <span class="n">header_row</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="s">'TMAX'</span><span class="p">)</span>
    <span class="n">low_index</span> <span class="o">=</span> <span class="n">header_row</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="s">'TMIN'</span><span class="p">)</span>
    <span class="n">name_index</span> <span class="o">=</span> <span class="n">header_row</span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="s">'NAME'</span><span class="p">)</span>

    <span class="c1"># Get dates, and high and low temperatures from this file.
</span>    <span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="c1"># Grab the station name, if it's not already set.
</span>        <span class="k">if</span> <span class="ow">not</span> <span class="n">place_name</span><span class="p">:</span>
            <span class="n">place_name</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">name_index</span><span class="p">]</span>
            <span class="k">print</span><span class="p">(</span><span class="n">place_name</span><span class="p">)</span>
            
        <span class="n">current_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">date_index</span><span class="p">],</span> <span class="s">'%Y-%m-%d'</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">high</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">high_index</span><span class="p">])</span>
            <span class="n">low</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="n">low_index</span><span class="p">])</span>
        <span class="k">except</span> <span class="nb">ValueError</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="sa">f</span><span class="s">"Missing data for </span><span class="si">{</span><span class="n">current_date</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dates</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_date</span><span class="p">)</span>
            <span class="n">highs</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">high</span><span class="p">)</span>
            <span class="n">lows</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">low</span><span class="p">)</span>

<span class="c1"># Plot the high and low temperatures.
</span><span class="n">plt</span><span class="p">.</span><span class="n">style</span><span class="p">.</span><span class="n">use</span><span class="p">(</span><span class="s">'seaborn'</span><span class="p">)</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'red'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">highs</span><span class="p">,</span> <span class="n">lows</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s">'blue'</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>

<span class="c1"># Format plot.
</span><span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"Daily high and low temperatures - 2018</span><span class="se">\n</span><span class="si">{</span><span class="n">place_name</span><span class="si">}</span><span class="s">"</span>
<span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">fig</span><span class="p">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">"Temperature (F)"</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="p">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s">'both'</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s">'major'</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>

<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/death_valley_auto_index.png" alt="Daily high and low temperatures for Death Valley, CA for 2018" /></p>

<p><a href="#top">top</a></p>
      <h2 id="16-6-refactoring">
        
        
          <a href="#16-6-refactoring" class="anchor-heading" aria-labelledby="16-6-refactoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16-6: Refactoring
        
        
      </h2>
    

<p>The loop that pulls data from <code class="language-plaintext highlighter-rouge">all_eq_dicts</code> uses variables for the magnitude, longitude, latitude, and title of each earthquake before appending these values to their appropriate lists. This approach was chosen for clarity in how to pull data from a JSON file, but it’s not necessary in your code. Instead of using these temporary variables, pull each value from <code class="language-plaintext highlighter-rouge">eq_dict</code> and append it to the appropriate list in one line. Doing so should shorten the body of this loop to just four lines.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="n">Scattergeo</span><span class="p">,</span> <span class="n">Layout</span>
<span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">offline</span>

<span class="c1"># Explore the structure of the data.
</span><span class="n">filename</span> <span class="o">=</span> <span class="s">'data/eq_data_30_day_m1.json'</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">all_eq_data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">all_eq_dicts</span> <span class="o">=</span> <span class="n">all_eq_data</span><span class="p">[</span><span class="s">'features'</span><span class="p">]</span>

<span class="n">mags</span><span class="p">,</span> <span class="n">lons</span><span class="p">,</span> <span class="n">lats</span><span class="p">,</span> <span class="n">hover_texts</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">eq_dict</span> <span class="ow">in</span> <span class="n">all_eq_dicts</span><span class="p">:</span>
    <span class="n">mags</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'properties'</span><span class="p">][</span><span class="s">'mag'</span><span class="p">])</span>
    <span class="n">lons</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'geometry'</span><span class="p">][</span><span class="s">'coordinates'</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">lats</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'geometry'</span><span class="p">][</span><span class="s">'coordinates'</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">hover_texts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'properties'</span><span class="p">][</span><span class="s">'title'</span><span class="p">])</span>

<span class="c1"># Map the earthquakes.
</span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'type'</span><span class="p">:</span> <span class="s">'scattergeo'</span><span class="p">,</span>
    <span class="s">'lon'</span><span class="p">:</span> <span class="n">lons</span><span class="p">,</span>
    <span class="s">'lat'</span><span class="p">:</span> <span class="n">lats</span><span class="p">,</span>
    <span class="s">'text'</span><span class="p">:</span> <span class="n">hover_texts</span><span class="p">,</span>
    <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'size'</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span> <span class="k">for</span> <span class="n">mag</span> <span class="ow">in</span> <span class="n">mags</span><span class="p">],</span>
        <span class="s">'color'</span><span class="p">:</span> <span class="n">mags</span><span class="p">,</span>
        <span class="s">'colorscale'</span><span class="p">:</span> <span class="s">'Viridis'</span><span class="p">,</span>
        <span class="s">'reversescale'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s">'colorbar'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Magnitude'</span><span class="p">},</span>
    <span class="p">},</span>
<span class="p">}]</span>

<span class="n">my_layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">'Global Earthquakes'</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="p">{</span><span class="s">'data'</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="s">'layout'</span><span class="p">:</span> <span class="n">my_layout</span><span class="p">}</span>
<span class="n">offline</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'global_earthquakes.html'</span><span class="p">)</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/global_earthquakes_m1_30_day.png" alt="Map of global earthquake activity over 30-day period" /></p>

<p><a href="#top">top</a></p>
      <h2 id="16-7-automated-title">
        
        
          <a href="#16-7-automated-title" class="anchor-heading" aria-labelledby="16-7-automated-title"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16-7: Automated Title
        
        
      </h2>
    

<p>In this section, we specified the title manually when defining <code class="language-plaintext highlighter-rouge">my_layout</code>, which means we have to remember to update the title every time the source file changes. Instead, you can use the title for the data set in the metadata part of the JSON file. Pull this value, assign it to a variable, and use this for the title of the map when you’re defining <code class="language-plaintext highlighter-rouge">my_layout</code>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">json</span>

<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="n">Scattergeo</span><span class="p">,</span> <span class="n">Layout</span>
<span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">offline</span>

<span class="c1"># Explore the structure of the data.
</span><span class="n">filename</span> <span class="o">=</span> <span class="s">'data/eq_data_30_day_m1.json'</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">all_eq_data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

<span class="n">title</span> <span class="o">=</span> <span class="n">all_eq_data</span><span class="p">[</span><span class="s">'metadata'</span><span class="p">][</span><span class="s">'title'</span><span class="p">]</span>
<span class="n">all_eq_dicts</span> <span class="o">=</span> <span class="n">all_eq_data</span><span class="p">[</span><span class="s">'features'</span><span class="p">]</span>

<span class="n">mags</span><span class="p">,</span> <span class="n">lons</span><span class="p">,</span> <span class="n">lats</span><span class="p">,</span> <span class="n">hover_texts</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">eq_dict</span> <span class="ow">in</span> <span class="n">all_eq_dicts</span><span class="p">:</span>
    <span class="n">mags</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'properties'</span><span class="p">][</span><span class="s">'mag'</span><span class="p">])</span>
    <span class="n">lons</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'geometry'</span><span class="p">][</span><span class="s">'coordinates'</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">lats</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'geometry'</span><span class="p">][</span><span class="s">'coordinates'</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
    <span class="n">hover_texts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">eq_dict</span><span class="p">[</span><span class="s">'properties'</span><span class="p">][</span><span class="s">'title'</span><span class="p">])</span>

<span class="c1"># Map the earthquakes.
</span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'type'</span><span class="p">:</span> <span class="s">'scattergeo'</span><span class="p">,</span>
    <span class="s">'lon'</span><span class="p">:</span> <span class="n">lons</span><span class="p">,</span>
    <span class="s">'lat'</span><span class="p">:</span> <span class="n">lats</span><span class="p">,</span>
    <span class="s">'text'</span><span class="p">:</span> <span class="n">hover_texts</span><span class="p">,</span>
    <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'size'</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="o">*</span><span class="n">mag</span> <span class="k">for</span> <span class="n">mag</span> <span class="ow">in</span> <span class="n">mags</span><span class="p">],</span>
        <span class="s">'color'</span><span class="p">:</span> <span class="n">mags</span><span class="p">,</span>
        <span class="s">'colorscale'</span><span class="p">:</span> <span class="s">'Viridis'</span><span class="p">,</span>
        <span class="s">'reversescale'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s">'colorbar'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Magnitude'</span><span class="p">},</span>
    <span class="p">},</span>
<span class="p">}]</span>

<span class="n">my_layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="p">{</span><span class="s">'data'</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="s">'layout'</span><span class="p">:</span> <span class="n">my_layout</span><span class="p">}</span>
<span class="n">offline</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'global_earthquakes.html'</span><span class="p">)</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/global_earthquakes_m1_30_day_auto_title.png" alt="Map of global earthquake activity over 30-day period" /></p>

<p><a href="#top">top</a></p>
      <h2 id="16-9-world-fires">
        
        
          <a href="#16-9-world-fires" class="anchor-heading" aria-labelledby="16-9-world-fires"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 16-9: World Fires
        
        
      </h2>
    

<p>In the resources for this chapter, you’ll find a file called <em>world_fires_1_day.csv</em>. This file contains information about fires burning in different locations around the globe, including the latitude and longitude, and the brightness of each fire. Using the data processing work from the first part of this chapter and the mapping work from this section, make a map that shows which parts of the world are affected by fires.</p>

<p>You can download more recent versions of this data at <a href="https://earthdata.nasa.gov/earth-observation-data/near-real-time/firms/active-fire-data/">https://earthdata.nasa.gov/earth-observation-data/near-real-time/firms/active-fire-data/</a>. You can find links to the data in CSV format in the TXT section.</p>

<p><em><strong>Note:</strong> There are over 27,000 rows listed in the file world_fires_1_day.csv. Using all of these rows was stressing my system, so I added a block to stop processing the data after 10,000 rows. You may want to change this number, or leave this limit out if your system can handle the entire data set smoothly.</em></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">plotly.graph_objs</span> <span class="kn">import</span> <span class="n">Scattergeo</span><span class="p">,</span> <span class="n">Layout</span>
<span class="kn">from</span> <span class="nn">plotly</span> <span class="kn">import</span> <span class="n">offline</span>

<span class="n">num_rows</span> <span class="o">=</span> <span class="mi">10_000</span>

<span class="n">filename</span> <span class="o">=</span> <span class="s">'data/world_fires_1_day.csv'</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="p">.</span><span class="n">reader</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">header_row</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">reader</span><span class="p">)</span>

    <span class="c1"># Get brightnesses, lats and lons, and dates.
</span>    <span class="n">dates</span><span class="p">,</span> <span class="n">brightnesses</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="n">lats</span><span class="p">,</span> <span class="n">lons</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[]</span>
    <span class="n">hover_texts</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">row_num</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="s">'%Y-%m-%d'</span><span class="p">)</span>
        <span class="n">brightness</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">date</span><span class="p">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%m/%d/%y'</span><span class="p">)</span><span class="si">}</span><span class="s"> - </span><span class="si">{</span><span class="n">brightness</span><span class="si">}</span><span class="s">"</span>

        <span class="n">dates</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
        <span class="n">brightnesses</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">brightness</span><span class="p">)</span>
        <span class="n">lats</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">lons</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">hover_texts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        
        <span class="n">row_num</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">row_num</span> <span class="o">==</span> <span class="n">num_rows</span><span class="p">:</span>
            <span class="k">break</span>

<span class="c1"># Map the fires.
</span><span class="n">data</span> <span class="o">=</span> <span class="p">[{</span>
    <span class="s">'type'</span><span class="p">:</span> <span class="s">'scattergeo'</span><span class="p">,</span>
    <span class="s">'lon'</span><span class="p">:</span> <span class="n">lons</span><span class="p">,</span>
    <span class="s">'lat'</span><span class="p">:</span> <span class="n">lats</span><span class="p">,</span>
    <span class="s">'text'</span><span class="p">:</span> <span class="n">hover_texts</span><span class="p">,</span>
    <span class="s">'marker'</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">'size'</span><span class="p">:</span> <span class="p">[</span><span class="n">brightness</span><span class="o">/</span><span class="mi">20</span> <span class="k">for</span> <span class="n">brightness</span> <span class="ow">in</span> <span class="n">brightnesses</span><span class="p">],</span>
        <span class="s">'color'</span><span class="p">:</span> <span class="n">brightnesses</span><span class="p">,</span>
        <span class="s">'colorscale'</span><span class="p">:</span> <span class="s">'YlOrRd'</span><span class="p">,</span>
        <span class="s">'reversescale'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
        <span class="s">'colorbar'</span><span class="p">:</span> <span class="p">{</span><span class="s">'title'</span><span class="p">:</span> <span class="s">'Brightness'</span><span class="p">},</span>
    <span class="p">},</span>
<span class="p">}]</span>

<span class="n">my_layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">'Global Fire Activity'</span><span class="p">)</span>

<span class="n">fig</span> <span class="o">=</span> <span class="p">{</span><span class="s">'data'</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span> <span class="s">'layout'</span><span class="p">:</span> <span class="n">my_layout</span><span class="p">}</span>
<span class="n">offline</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s">'global_fires.html'</span><span class="p">)</span>
</code></pre></div></div>

<p>Output:</p>

<p><img src="../../images/solution_images/global_fire_activity.png" alt="Map of global fire activity over 1-day period" /></p>

<p><a href="#top">top</a></p>


        

        

        
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>

